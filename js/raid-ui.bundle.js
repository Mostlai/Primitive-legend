(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[19],{220:function(e,t,a){var n=a(306);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(20)(n,o);n.locals&&(e.exports=n.locals)},221:function(e,t,a){var n=a(308);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(20)(n,o);n.locals&&(e.exports=n.locals)},222:function(e,t,a){var n=a(310);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(20)(n,o);n.locals&&(e.exports=n.locals)},223:function(e,t,a){var n=a(312);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(20)(n,o);n.locals&&(e.exports=n.locals)},305:function(e,t,a){"use strict";var n=a(220);a.n(n).a},306:function(e,t,a){(t=a(19)(!1)).push([e.i,"\n.fade-enter-active[data-v-09dd16a2],\n.fade-leave-active[data-v-09dd16a2] {\n  transition: opacity 2s;\n}\n.fade-enter[data-v-09dd16a2],\n.fade-leave-to[data-v-09dd16a2] {\n  opacity: 0;\n}\n.slide-enter-active[data-v-09dd16a2], .slide-leave-active[data-v-09dd16a2] {\n  transition: transform 0.5s;\n}\n.slide-enter[data-v-09dd16a2], .slide-leave-to[data-v-09dd16a2] {\n  transform: translateX(100%);\n}\n.name-span[data-v-09dd16a2] {\n\tdisplay:flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n.npc-group > div[data-v-09dd16a2] { margin: var(--sm-gap);\n}\n.title[data-v-09dd16a2] {\n\tfont-weight: bold;\n\tborder-bottom: 1px solid var(--separator-color);\n}\n\n",""]),e.exports=t},307:function(e,t,a){"use strict";var n=a(221);a.n(n).a},308:function(e,t,a){(t=a(19)(!1)).push([e.i,"\n.combat[data-v-35ac75f5] {\n\tdisplay:flex;\n\tjustify-content: space-between;\n\toverflow-y: auto;\n    flex-flow: row;\n\toverflow-x: hidden;\n}\n.combat\t.group[data-v-35ac75f5] {\n\n\tmargin: 0; padding: var(--sm-gap);\n\twidth:48%;\n\tmin-height:10em;\n}\n\n",""]),e.exports=t},309:function(e,t,a){"use strict";var n=a(222);a.n(n).a},310:function(e,t,a){(t=a(19)(!1)).push([e.i,"\n.explore[data-v-2024cb3c] {\n\tdisplay:flex;\n\tflex-flow: column;\n\toverflow-y: hidden;\n\tpadding: var( --md-gap);\n\tflex-basis:50%;\n\tflex-grow: 2;\n}\ndiv.explore div.stressors[data-v-2024cb3c] {\n\tdisplay:flex;\n\tflex-flow: row wrap;\n\tjustify-content: space-between;\n}\n.name[data-v-2024cb3c] {\n\tfont-weight: bold;\n}\ndiv.stressors .stress[data-v-2024cb3c] {\n\tflex-basis: 48%;\n}\ndiv.explore .active-title[data-v-2024cb3c] {\n\tdisplay:flex;\n\tmin-width: 20rem;\n\talign-items: center;\n}\ndiv.explore .active-title > span[data-v-2024cb3c] {\n\tmargin-right:1rem;\n}\ndiv.envbox[data-v-2024cb3c] {\n\tmargin: 0.25em;\n    border-bottom: 1px solid var(--separator-color);\n    border-top: 1px solid var(--separator-color);\n}\nspan.environment[data-v-2024cb3c] {\n    display: flex;\n\tfont-size: 18px;\n\twidth: fit-content;\n\tmargin: 0 auto;\n    /* background: linear-gradient(to left,var(--background-color) 10%,rgb(179, 102, 35) 50%,var(--background-color) 90%); */\n\tfont-weight: bolder;\n    justify-content: center;\n\talign-items: center;\n}\nspan.bar[data-v-2024cb3c] {\n\twidth: 100%;\n}\n\n",""]),e.exports=t},311:function(e,t,a){"use strict";var n=a(223);a.n(n).a},312:function(e,t,a){(t=a(19)(!1)).push([e.i,"\n.sym[data-v-2f2f74c1] {\n\talign-self:center;\n}\ndiv.adventure[data-v-2f2f74c1] {\n\tdisplay:flex;\n\tpadding:0 1rem;\n\talign-self: flex-start;\n\tflex-flow: column;\n\tpadding: 0; margin: 0;\n\theight: 100%;\n\toverflow-y:hidden;\n}\ndiv.adventure .content[data-v-2f2f74c1] {\n\tflex-basis: 70%;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\ndiv.top[data-v-2f2f74c1] {\n\tpadding-left: var(--md-gap);\n\twidth: 100%;\n\tjustify-content: space-evenly;\n}\ndiv.locales[data-v-2f2f74c1] {\n\n\tdisplay: flex;\n\tflex-flow: row wrap;\n\tgrid-gap: 0;\n\tflex-grow:1;\n\tjustify-content: space-between;\n\toverflow-y: auto;\n\tmin-height: 50%;\n\theight:100%;\n\tpadding: var(--tiny-gap) var(--md-gap);\n}\ndiv.locales .locale[data-v-2f2f74c1] {\n\tflex-basis: 48%;\n}\nbody.compact div.adventure > div.locales[data-v-2f2f74c1] {\n\tdisplay:grid;\n\tgrid-template-columns: minmax( 9rem, 1fr) repeat( auto-fit, minmax( 9rem, 1fr) );\n}\nbody.compact div.adventure > div.locales .locale[data-v-2f2f74c1] { background: var(--list-entry-background);\n}\nbody.compact div.adventure > div.locales .locale .bar[data-v-2f2f74c1] { border: none;}\ndiv.adventure > div.locales .locale[data-v-2f2f74c1] {\n\t\t\tpadding: var(--md-gap);\n\t\t\tborder-radius: var(--list-entry-border-radius);\n\t\t\tdisplay: flex; flex-flow: column; height: 100%;\n}\ndiv.adventure > div.locales .locale > span[data-v-2f2f74c1]:nth-child(1) {\n\t\t\tdisplay: flex; flex-flow: row; justify-content: space-between; flex: 1;\n}\ndiv.raid-bottom[data-v-2f2f74c1] {\n\tdisplay:flex;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\tborder-top: 1px solid var(--separator-color);\n\tmin-height: 0;\n\tmax-height: 35%;\n\twidth:100%;\n\toverflow-y:auto;\n}\n.menu-content div.adventure .log span[data-v-2f2f74c1] { padding: var(--sm-gap);\n}\n.menu-content div.adventure .log .outlog[data-v-2f2f74c1] { overflow-y: auto; overflow-x: hidden;\n}\n.raid-bottom .log[data-v-2f2f74c1] {\n\tflex: 1; font-size: var(--compact-small-font); border-left: 1px solid var(--separator-color);\n\tdisplay:  flex; flex-direction: column;\n\tflex-basis:50%;\n\tflex-grow:1;\n\tmargin: 0;\n}\n\n",""]),e.exports=t},333:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"adventure"},[e.explore.running?a("explore",{attrs:{explore:e.explore}}):a("div",{staticClass:"content"},[a("div",{staticClass:"top"},[a("span",[a("span",{staticClass:"opt"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.chkLevelSort,expression:"chkLevelSort"}],attrs:{id:e.elmId("lvlSort"),type:"checkbox"},domProps:{checked:Array.isArray(e.chkLevelSort)?e._i(e.chkLevelSort,null)>-1:e.chkLevelSort},on:{change:function(t){var a=e.chkLevelSort,n=t.target,o=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&(e.chkLevelSort=a.concat([null])):s>-1&&(e.chkLevelSort=a.slice(0,s).concat(a.slice(s+1)))}else e.chkLevelSort=o}}}),e._v(" "),a("label",{attrs:{for:e.elmId("lvlSort")}},[e._v("按等级排序")])])]),e._v(" "),a("span",[a("span",{staticClass:"opt"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.chkShowDone,expression:"chkShowDone"}],attrs:{id:e.elmId("showDone"),type:"checkbox"},domProps:{checked:Array.isArray(e.chkShowDone)?e._i(e.chkShowDone,null)>-1:e.chkShowDone},on:{change:function(t){var a=e.chkShowDone,n=t.target,o=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&(e.chkShowDone=a.concat([null])):s>-1&&(e.chkShowDone=a.slice(0,s).concat(a.slice(s+1)))}else e.chkShowDone=o}}}),e._v(" "),a("label",{attrs:{for:e.elmId("showDone")}},[e._v("完成")])]),e._v(" "),a("span",{staticClass:"opt"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.chkShowRaid,expression:"chkShowRaid"}],attrs:{id:e.elmId("showRaid"),type:"checkbox"},domProps:{checked:Array.isArray(e.chkShowRaid)?e._i(e.chkShowRaid,null)>-1:e.chkShowRaid},on:{change:function(t){var a=e.chkShowRaid,n=t.target,o=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&(e.chkShowRaid=a.concat([null])):s>-1&&(e.chkShowRaid=a.slice(0,s).concat(a.slice(s+1)))}else e.chkShowRaid=o}}}),e._v(" "),a("label",{attrs:{for:e.elmId("showRaid")}},[e._v("副本")])]),e._v(" "),a("span",{staticClass:"opt"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.chkShowLocale,expression:"chkShowLocale"}],attrs:{id:e.elmId("showLocale"),type:"checkbox"},domProps:{checked:Array.isArray(e.chkShowLocale)?e._i(e.chkShowLocale,null)>-1:e.chkShowLocale},on:{change:function(t){var a=e.chkShowLocale,n=t.target,o=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&(e.chkShowLocale=a.concat([null])):s>-1&&(e.chkShowLocale=a.slice(0,s).concat(a.slice(s+1)))}else e.chkShowLocale=o}}}),e._v(" "),a("label",{attrs:{for:e.elmId("showLocale")}},[e._v("探索")])]),e._v(" "),a("span",{staticClass:"opt"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.chkShowfHide,expression:"chkShowfHide"}],attrs:{id:e.elmId("showfHide"),type:"checkbox"},domProps:{checked:Array.isArray(e.chkShowfHide)?e._i(e.chkShowfHide,null)>-1:e.chkShowfHide},on:{change:function(t){var a=e.chkShowfHide,n=t.target,o=!!n.checked;if(Array.isArray(a)){var s=e._i(a,null);n.checked?s<0&&(e.chkShowfHide=a.concat([null])):s>-1&&(e.chkShowfHide=a.slice(0,s).concat(a.slice(s+1)))}else e.chkShowfHide=o}}}),e._v(" "),a("label",{attrs:{for:e.elmId("showfHide")}},[e._v("显示隐藏")])]),e._v(" "),a("span",[e._v("点击隐藏后没反应可以切到别的页面再回来")])]),e._v(" "),a("filterbox",{staticClass:"inline",attrs:{prop:e.searchIt,items:e.locales,"min-items":"8"},model:{value:e.filtered,callback:function(t){e.filtered=t},expression:"filtered"}})],1),e._v(" "),a("div",{staticClass:"locales"},e._l(e.filtered,(function(t){return a("div",{key:t.id,staticClass:"locale"},[a("span",{staticClass:"separate"},[a("span",{on:{"!mouseenter":function(a){return a.stopPropagation(),e.itemOver(a,t)}}},[a("span",[e._v(e._s(t.sname.toString().toTitleCase()))])]),e._v(" "),a("span",[a("button",{staticClass:"raid-btn",on:{click:function(a){t.fhide=e.fhideb(t)}}},[e._v(e._s("true"==t.fhide?"已隐藏":"隐藏"))]),e._v(" "),a("button",{staticClass:"raid-btn",attrs:{disabled:!e.game.canRun(t)},on:{click:function(a){return e.emit("task",t)}}},[e._v("进入")]),e._v(" "),a("span",{staticClass:"sym"},[e._v(e._s(t.sym))])])]),e._v(" "),a("progbar",{attrs:{value:t.exp.valueOf(),max:t.length.valueOf()}})],1)})),0)]),e._v(" "),e.explore.running||e.drops.count>0?a("div",{staticClass:"raid-bottom"},[a("inv",{staticClass:"inv",attrs:{inv:e.drops,take:"true"}}),e._v(" "),a("div",{staticClass:"log"},[a("div",{staticClass:"outlog"},e._l(e.combatLog,(function(t,n){return a("div",{key:n,staticClass:"log-item"},[a("div",[t.title?a("span",{staticClass:"log-title"},[e._v(e._s(t.title.toString().toTitleCase()))]):e._e()]),e._v(" "),t.text?a("span",{staticClass:"log-text"},[e._v(e._s(t.text))]):e._e()])})),0)])],1):e._e()],1)};n._withStripped=!0;var o=a(1),s=a(14),r=a(24),i=a(25),l=a(37),c=a(33),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"explore"},[a("div",{staticStyle:{display:"flex","ustify-content":"space-between","align-items":"center"}},[a("span",{staticClass:"active-title"},[a("span",[e._v(e._s(e.explore.name))]),a("button",{staticClass:"raid-btn",on:{click:function(t){return e.emit(e.HALT_TASK,e.explore.locale,!1)},"!mouseenter":function(t){return t.stopPropagation(),e.itemOver(t,e.explore.locale)}}},[e._v("撤离")])]),e._v(" "),a("span",{staticClass:"bar"},[a("progbar",{attrs:{value:e.explore.exp.valueOf(),max:Number(e.explore.length)}})],1),e._v(" "),e.explore.locale.bars?a("bars",{attrs:{bars:e.explore.locale.bars}}):e._e()],1),e._v(" "),a("div",{staticClass:"envbox"},[a("span",{staticClass:"environment",style:{color:1==e.explore.combat.environment.owner?"#6DB75F":"#E4504D"},on:{"!mouseenter":function(t){t.stopPropagation(),e.itemOver(t,e.getData(e.explore.combat.environment.id))}}},[a("i",{staticClass:"fa-solid fa-wind"}),e._v(e._s(e.getData(e.explore.combat.environment.id).name)+"("+e._s(e.explore.combat.environment.strength)+")\n\t\t")])]),e._v(" "),e.inCombat?[a("combat",{attrs:{combat:e.explore.combat}})]:[a("div",{on:{"!mouseenter":function(t){return t.stopPropagation(),e.encOver(t)}}},[a("span",{staticClass:"name",domProps:{innerHTML:e._s(e.encName)}}),e._v(" "),a("div",{staticClass:"desc",domProps:{innerHTML:e._s(e.encDesc)}}),e._v(" "),a("progbar",{attrs:{value:e.encProg,max:e.encLen}})],1),e._v(" "),a("div",{staticClass:"stressors"},e._l(e.stressors,(function(t){return a("div",{key:t.id,staticClass:"stress",on:{"!mouseenter":function(a){return a.stopPropagation(),e.itemOver(a,t)}}},[a("span",[e._v(e._s(t.name.toTitleCase()))]),e._v(" "),a("progbar",{attrs:{value:t.value.valueOf(),max:t.max.value}})],1)})),0)]],2)};d._withStripped=!0;var v=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"combat"},[t("npc-group",{staticClass:"group",attrs:{npcs:this.combat.allies,label:"友方"}}),this._v(" "),t("npc-group",{staticClass:"group",attrs:{npcs:this.combat.enemies,label:"敌方"}})],1)};v._withStripped=!0;var p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"npc-group"},[e.label?a("span",{staticClass:"title"},[e._v(e._s(e.label))]):e._e(),e._v(" "),a("transition",{attrs:{name:"fade"}},[a("transition-group",{attrs:{name:"slide"}},e._l(e.npcs,(function(t){return a("div",{key:t.id},[a("span",{staticClass:"name-span"},[a("span",[a("span",{on:{"!mouseenter":function(a){return a.stopPropagation(),e.itemOver(a,t)}}},[e._v(e._s(e.getPrefix(t)))])]),e._v(" "),a("dots",{staticClass:"inline",attrs:{mini:"true",dots:t.dots,char:t}})],1),e._v(" "),t.shiled<=0?a("prog",{staticClass:"hp",attrs:{value:t.hp.value.valueOf(),max:t.hp.max.value},on:{"!mouseenter":function(a){return a.stopPropagation(),e.itemOver(a,t)}}}):e._e(),e._v(" "),t.shiled>0?a("prog",{staticClass:"shiled",attrs:{value:t.shiled.valueOf(),max:t.shiled_max.valueOf(),"key:p.id":""},on:{"!mouseenter":function(a){return a.stopPropagation(),e.itemOver(a,t)}}}):e._e()],1)})),0)],1)],1)};p._withStripped=!0;var h=a(105),f={mixins:[s.a],props:["npcs","label"],components:{prog:l.a,dots:h.a},methods:{getEffective(e){let t=0;return t=e<=20?e:e<=40?20+(e-20)/2:e<=60?30+(e-40)/3:e<=80?46.6+(e-60)/4:e<=1e3?56.3+(e-80)/5:237.3+(e-1e3)/20,parseFloat(t).toFixed(0)},getPrefix(e){let t=e.name;if(""!=e.prefix&&null!=e.prefix)for(let a in e.prefix)t=e.prefix[a]+" "+t;return t}}},u=(a(305),a(7)),m=Object(u.a)(f,p,[],!1,null,"09dd16a2",null);m.options.__file="src/ui/items/npc-group.vue";var g={props:["combat"],components:{"npc-group":m.exports}},w=(a(307),Object(u.a)(g,v,[],!1,null,"35ac75f5",null));w.options.__file="src/ui/items/combat.vue";var b=w.exports,x=a(3),_=a(4),k={props:["explore"],components:{combat:b,bars:()=>a.e(2).then(a.bind(null,359)),progbar:l.a},created(){this.HALT_TASK=x.u,this.lastEnc=null,this.lastCombat=!0},methods:{encOver(e){this.enc&&this.itemOver(e,this.enc)},getData:e=>o.c.state.getData(e)},computed:{stressors:()=>o.c.state.stressors.filter(e=>!e.locked&&!e.disabled),player:()=>o.c.state.player,type(){return this.explore.locale.type},inCombat(){return this.enc?this.enc===this.explore.combat:this.type===_.e},enc(){return this.explore.enc&&(this.lastEnc=this.explore.enc),this.lastEnc},encDesc(){return this.enc?this.enc.desc:"&nbsp;"},encName(){return this.enc?this.enc.name.toTitleCase():"&nbsp;"},encProg(){return this.enc?this.enc.exp:0},encLen(){return this.enc?this.enc.length.valueOf():0}}},y=(a(309),Object(u.a)(k,d,[],!1,null,"2024cb3c",null));y.options.__file="src/ui/items/explore.vue";var S=y.exports;var C={props:["state"],mixins:[s.a],data(){let e=i.a.getSubVars(_.k);return{showDone:!e.hasOwnProperty("showDone")||e.showDone,showRaid:!e.hasOwnProperty("showRaid")||e.showRaid,showLocale:!e.hasOwnProperty("showLocale")||e.showLocale,showfHide:e.showfHide,lvlSort:e.lvlSort,log:o.c.log,filtered:null}},beforeCreate(){this.game=o.c},components:{explore:S,progbar:l.a,filterbox:c.a,inv:()=>a.e(14).then(a.bind(null,233))},computed:{chkLevelSort:{get(){return this.lvlSort},set(e){this.lvlSort=i.a.setSubVar(_.k,"lvlSort",e)}},chkShowDone:{get(){return this.showDone},set(e){this.showDone=i.a.setSubVar(_.k,"showDone",e)}},chkShowRaid:{get(){return this.showRaid},set(e){this.showRaid=i.a.setSubVar(_.k,"showRaid",e)}},chkShowLocale:{get(){return this.showLocale},set(e){this.showLocale=i.a.setSubVar(_.k,"showLocale",e)}},chkShowfHide:{get(){return this.showfHide},set(e){this.showfHide=i.a.setSubVar(_.k,"showfHide",e)}},drops:()=>o.c.state.drops,combatLog(){let e=this.log.items,t=0,a=[];for(let o=e.length-1;o>=0;o--){var n=e[o];if(n.type===x.y&&(a.push(n),7==++t))break}return a},explore(){return this.state.explore},allLocs(){return this.state.filterItems(e=>e.type===_.e||e.type===_.p).sort(this.lvlSort?r.f:r.a)},locales(){let e=this.showDone,t=this.showRaid,a=this.showLocale,n=this.showfHide;return this.allLocs.filter(o=>!this.locked(o)&&(e||o.value<=0)&&(t||o.type!==_.e)&&(a||o.type!==_.p)&&(n||"true"!=o.fhide))}},methods:{searchIt(e,t){if(e.name.includes(t))return!0;if(e.tags){let a=e.tags;for(let e=a.length-1;e>=0;e--){if(a[e].toLowerCase().includes(t.toLowerCase()))return!0;let n=a[e];if(n=o.c.state.tagSets[n]||n,null!=n&&!n.hide&&n instanceof Object&&n.name&&n.name.includes(t))return!0}}if(e.result&&"object"==typeof e.result)for(let a in e.result)if(game.state.getData(a)&&"object"==typeof game.state.getData(a)&&game.state.getData(a).name.includes(t))return!0;return!1},fhideb:e=>"true"!=e.fhide?"true":"false"}},L=(a(311),Object(u.a)(C,n,[],!1,null,"2f2f74c1",null));L.options.__file="src/ui/sections/adventure.vue";t.default=L.exports}}]);